<div class="row">
  <h1>Led strip control</h1>
</div>

<hr/>

<div class="row" style="margin-bottom: 1em;">
  <label for="dynamic" class="form-check-label">
    <input type="checkbox"
           name="dynamic"
           class="form-check-input"
           [checked]="dynamic"
           (change)="toggleDynamic()">
    Dynamic control
  </label>
</div>

<div *ngIf="!dynamic">
  <div class="row">
    <h3>Static color control</h3>
  </div>
  <div *ngFor="let device of devices" class="form-group row" style="margin-top: 1em;">
    <label for="{{ device.id }}" class="col-2 col-form-label">{{ device.description }}</label>

    <div class="col-8">
      <input  class="form-control"
              id="{{ device.id }}"
              [(colorPicker)]="device.color"
              [style.background]="device.color"
              [value]="device.color"
              (colorPickerChange)="switchColor(device.id)"/>
    </div>
  </div>
</div>

<div *ngIf="dynamic">
  <div class="row">
    <h3>Dynamic color control</h3>
  </div>

  <div class="form-group row">
    <label for="program" class="col-2 col-form-label">Preset</label>

    <select class="col-8" name="program" id="program" [(ngModel)]="activeProgram" (change)="changeProgram(activeProgram)">
      <option></option>
      <option *ngFor="let program of programs">{{ program }}</option>
    </select>
  </div>

  <div class="row">
    <div ace-editor
    [(text)]="code"
    [mode]="'python'"
    [readOnly]="false"
    [autoUpdateContent]="true"
    style="font-size: 13pt; min-height: 550px; width:100%; overflow: auto;"></div>
  </div>

  <div class="row" style="margin-top: 1em;">
    <button class="btn btn-primary" (click)="saveProgram()">save</button>
  </div>

</div>


